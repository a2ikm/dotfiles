#!/bin/bash

# Check if current directory is a git repository
if ! git rev-parse --git-dir > /dev/null 2>&1; then
  echo "Error: Not a git repository" >&2
  exit 1
fi

# Try to checkout branches in priority order: develop, master, main
for branch in develop master main; do
  if git show-ref --verify --quiet refs/heads/$branch || git show-ref --verify --quiet refs/remotes/origin/$branch; then
    git checkout $branch
    exit $?
  fi
done

echo "Error: None of the branches (develop, master, main) found" >&2
exit 1

